import{d as p,t as v,s as y,w as M,o as N,y as V,z as x,A as j,f as A,c as Y,j as z,h as H,B as P,r as E,a as R}from"./index.DJTccS7f.js";import{b as h,n as T,c as b,d as S,i as X,t as $,e as D,w as q,f as F}from"./index.DIAS6tjr.js";import{_ as G}from"./_plugin-vue_export-helper.DlAUqK2U.js";const W=X?window:void 0;function w(e){var t;const o=v(e);return(t=o?.$el)!=null?t:o}function J(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},l=(n,r,s,u)=>(n.addEventListener(r,s,u),()=>n.removeEventListener(r,s,u)),i=p(()=>{const n=h(v(e[0])).filter(r=>r!=null);return n.every(r=>typeof r!="string")?n:void 0}),a=q(()=>{var n,r;return[(r=(n=i.value)==null?void 0:n.map(s=>w(s)))!=null?r:[W].filter(s=>s!=null),h(v(i.value?e[1]:e[0])),h(x(i.value?e[2]:e[1])),v(i.value?e[3]:e[2])]},([n,r,s,u])=>{if(o(),!n?.length||!r?.length||!s?.length)return;const f=F(u)?{...u}:u;t.push(...n.flatMap(g=>r.flatMap(m=>s.map(d=>l(g,m,d,f)))))},{flush:"post"}),c=()=>{a(),o()};return S(o),c}function K(){const e=y(!1),t=V();return t&&N(()=>{e.value=!0},t),e}function Q(e){const t=K();return p(()=>(t.value,!!e()))}function L(e,t,o={}){const{root:l,rootMargin:i="0px",threshold:a=0,window:c=W,immediate:n=!0}=o,r=Q(()=>c&&"IntersectionObserver"in c),s=p(()=>{const d=v(e);return h(d).map(w).filter(T)});let u=b;const f=y(n),g=r.value?M(()=>[s.value,w(l),f.value],([d,B])=>{if(u(),!f.value||!d.length)return;const _=new IntersectionObserver(t,{root:w(B),rootMargin:i,threshold:a});d.forEach(k=>k&&_.observe(k)),u=()=>{_.disconnect(),u=b}},{immediate:n,flush:"post"}):b,m=()=>{u(),g(),f.value=!1};return S(m),{isSupported:r,isActive:f,pause(){u(),f.value=!1},resume(){f.value=!0},stop:m}}function O(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const U={mounted(e,t){typeof t.value=="function"?L(e,t.value):L(e,...t.value)}};function C(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:C(o)}}function Z(e){const t=e||window.event,o=t.target;return C(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const I=new WeakMap;function ee(e,t=!1){const o=y(t);let l=null,i="";M($(e),n=>{const r=O(v(n));if(r){const s=r;if(I.get(s)||I.set(s,s.style.overflow),s.style.overflow!=="hidden"&&(i=s.style.overflow),s.style.overflow==="hidden")return o.value=!0;if(o.value)return s.style.overflow="hidden"}},{immediate:!0});const a=()=>{const n=O(v(e));!n||o.value||(D&&(l=J(n,"touchmove",r=>{Z(r)},{passive:!1})),n.style.overflow="hidden",o.value=!0)},c=()=>{const n=O(v(e));!n||!o.value||(D&&l?.(),n.style.overflow=i,I.delete(n),o.value=!1)};return S(c),p({get(){return o.value},set(n){n?a():c()}})}function te(){let e=!1;const t=y(!1);return(o,l)=>{if(t.value=l.value,e)return;e=!0;const i=ee(o,l.value);M(t,a=>i.value=a)}}te();const ne="10%",oe=j({__name:"Intersecting",props:{className:{default:""},noSsr:{type:Boolean,default:!0}},setup(e,{expose:t}){t();const o=E(!1),l=E(!1);function i(r){const s=r[0];if(!s)return;const{isIntersecting:u}=s;o.value=u,u&&(l.value=!0)}const a=e,c=p(()=>(a?.noSsr&&!l.value,!0)),n={isVisible:o,rootMargin:ne,firstVisible:l,onIntersectionObserver:i,props:a,show:c,get vIntersectionObserver(){return U}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function re(e,t,o,l,i,a){return A((R(),Y("div",{class:P(`${o.className||""} ${l.isVisible?"in-screen":"out-of-screen"} ${l.firstVisible?"is-active":"is-inactive"}`)},[l.show?z(e.$slots,"default",{key:0}):H("",!0)],2)),[[l.vIntersectionObserver,[l.onIntersectionObserver,{rootMargin:l.rootMargin}]]])}const ie=G(oe,[["render",re]]);export{ie as default};
