import{g as V,t as I,i as N,w as R,h as k,f as A,b,d as E,p as x,e as z}from"./index.DIAS6tjr.js";import{s as h,w,d as g,E as D,t as v,G as L,z as C,o as F,y as P,H as Y}from"./index.DJTccS7f.js";const y=N?window:void 0;function M(e){var t;const l=v(e);return(t=l?.$el)!=null?t:l}function W(...e){const t=[],l=()=>{t.forEach(n=>n()),t.length=0},a=(n,o,i,u)=>(n.addEventListener(o,i,u),()=>n.removeEventListener(o,i,u)),r=g(()=>{const n=b(v(e[0])).filter(o=>o!=null);return n.every(o=>typeof o!="string")?n:void 0}),c=R(()=>{var n,o;return[(o=(n=r.value)==null?void 0:n.map(i=>M(i)))!=null?o:[y].filter(i=>i!=null),b(v(r.value?e[1]:e[0])),b(C(r.value?e[2]:e[1])),v(r.value?e[3]:e[2])]},([n,o,i,u])=>{if(l(),!n?.length||!o?.length||!i?.length)return;const d=A(u)?{...u}:u;t.push(...n.flatMap(f=>o.flatMap(m=>i.map(p=>a(f,m,p,d)))))},{flush:"post"}),s=()=>{c(),l()};return E(l),s}function _(){const e=h(!1),t=P();return t&&F(()=>{e.value=!0},t),e}function H(e){const t=_();return g(()=>(t.value,!!e()))}const j=Symbol("vueuse-ssr-width");function B(){const e=L()?k(j,null):null;return typeof e=="number"?e:void 0}function $(e,t={}){const{window:l=y,ssrWidth:a=B()}=t,r=H(()=>l&&"matchMedia"in l&&typeof l.matchMedia=="function"),c=h(typeof a=="number"),s=h(),n=h(!1),o=i=>{n.value=i.matches};return D(()=>{if(c.value){c.value=!r.value;const i=v(e).split(",");n.value=i.some(u=>{const d=u.includes("not all"),f=u.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),m=u.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(f||m);return f&&p&&(p=a>=x(f[1])),m&&p&&(p=a<=x(m[1])),d?!p:p});return}r.value&&(s.value=l.matchMedia(v(e)),n.value=s.value.matches)}),W(s,"change",o,{passive:!0}),g(()=>n.value)}function Q(e,t,l={}){const{window:a=y,...r}=l;let c;const s=H(()=>a&&"ResizeObserver"in a),n=()=>{c&&(c.disconnect(),c=void 0)},o=g(()=>{const d=v(e);return Array.isArray(d)?d.map(f=>M(f)):[M(d)]}),i=w(o,d=>{if(n(),s.value&&a){c=new ResizeObserver(t);for(const f of d)f&&c.observe(f,r)}},{immediate:!0,flush:"post"}),u=()=>{n(),i()};return E(u),{isSupported:s,stop:u}}function O(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function T(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const l=e.parentNode;return!l||l.tagName==="BODY"?!1:T(l)}}function X(e){const t=e||window.event,l=t.target;return T(l)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const S=new WeakMap;function K(e,t=!1){const l=h(t);let a=null,r="";w(I(e),n=>{const o=O(v(n));if(o){const i=o;if(S.get(i)||S.set(i,i.style.overflow),i.style.overflow!=="hidden"&&(r=i.style.overflow),i.style.overflow==="hidden")return l.value=!0;if(l.value)return i.style.overflow="hidden"}},{immediate:!0});const c=()=>{const n=O(v(e));!n||l.value||(z&&(a=W(n,"touchmove",o=>{X(o)},{passive:!1})),n.style.overflow="hidden",l.value=!0)},s=()=>{const n=O(v(e));!n||!l.value||(z&&a?.(),n.style.overflow=r,S.delete(n),l.value=!1)};return E(s),g({get(){return l.value},set(n){n?c():s()}})}function q(e=y,t){e&&typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame(t):t()}function U(e={}){var t,l;const{window:a=y}=e,r=I(e?.element),c=I((t=e?.input)!=null?t:""),s=(l=e?.styleProp)!=null?l:"height",n=h(1),o=h(0);function i(){var u;if(!r.value)return;let d="";r.value.style[s]="1px",n.value=(u=r.value)==null?void 0:u.scrollHeight;const f=v(e?.styleTarget);f?f.style[s]=`${n.value}px`:d=`${n.value}px`,r.value.style[s]=d}return w([c,r],()=>Y(i),{immediate:!0}),w(n,()=>{var u;return(u=e?.onResize)==null?void 0:u.call(e)}),Q(r,([{contentRect:u}])=>{o.value!==u.width&&q(a,()=>{o.value=u.width,i()})}),e?.watch&&w(e.watch,i,{immediate:!0,deep:!0}),{textarea:r,input:c,triggerResize:i}}function Z(e={}){const{window:t=y,initialWidth:l=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:c=!0,type:s="inner"}=e,n=h(l),o=h(a),i=()=>{if(t)if(s==="outer")n.value=t.outerWidth,o.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:d,height:f,scale:m}=t.visualViewport;n.value=Math.round(d*m),o.value=Math.round(f*m)}else c?(n.value=t.innerWidth,o.value=t.innerHeight):(n.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight)};i(),V(i);const u={passive:!0};if(W("resize",i,u),t&&s==="visual"&&t.visualViewport&&W(t.visualViewport,"resize",i,u),r){const d=$("(orientation: portrait)");w(d,()=>i())}return{width:n,height:o}}export{U as a,K as b,Z as u};
