import{B as I,C as U,D as X,r as q,E as J,w as p,G as k,H as V,I as K,t as v,J as Z,o as _,u as ee,x as te,s as y,d as S,K as ne,L as oe}from"./index.FPi_VmFE.js";function B(e){return ee()?(te(e),!0):!1}const x=new WeakMap,ie=(...e)=>{var t;const n=e[0],i=(t=k())==null?void 0:t.proxy;if(i==null&&!V())throw new Error("injectLocal must be called in setup");return i&&x.has(i)&&n in x.get(i)?x.get(i)[n]:K(...e)},Y=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=Object.prototype.toString,ue=e=>re.call(e)==="[object Object]",R=()=>{},F=le();function le(){var e,t;return Y&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function z(...e){if(e.length!==1)return U(...e);const t=e[0];return typeof t=="function"?X(J(()=>({get:t,set:R}))):q(t)}function se(e,t){function n(...i){return new Promise((a,f)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(a).catch(f)})}return n}function ae(e,t={}){let n,i,a=R;const f=l=>{clearTimeout(l),a(),a=R};let d;return l=>{const u=v(e),s=v(t.maxWait);return n&&f(n),u<=0||s!==void 0&&s<=0?(i&&(f(i),i=null),Promise.resolve(l())):new Promise((r,c)=>{a=t.rejectOnCancel?c:r,d=l,s&&!i&&(i=setTimeout(()=>{n&&f(n),i=null,r(d())},s)),n=setTimeout(()=>{i&&f(i),i=null,r(l())},u)})}}function H(e,t=!1,n="Timeout"){return new Promise((i,a)=>{setTimeout(t?()=>a(n):i,e)})}function L(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function A(e){return Array.isArray(e)?e:[e]}function ce(e){return k()}function We(e,t=200,n={}){return se(ae(t,n),e)}function fe(e,t=!0,n){ce()?_(e,n):t?e():I(e)}function D(e,t=!1){function n(r,{flush:c="sync",deep:h=!1,timeout:m,throwOnTimeout:T}={}){let w=null;const P=[new Promise(O=>{w=p(e,b=>{r(b)!==t&&(w?w():I(()=>w?.()),O(b))},{flush:c,deep:h,immediate:!0})})];return m!=null&&P.push(H(m,T).then(()=>v(e)).finally(()=>w?.())),Promise.race(P)}function i(r,c){if(!Z(r))return n(b=>b===r,c);const{flush:h="sync",deep:m=!1,timeout:T,throwOnTimeout:w}=c??{};let g=null;const O=[new Promise(b=>{g=p([e,r],([C,Q])=>{t!==(C===Q)&&(g?g():I(()=>g?.()),b(C))},{flush:h,deep:m,immediate:!0})})];return T!=null&&O.push(H(T,w).then(()=>v(e)).finally(()=>(g?.(),v(e)))),Promise.race(O)}function a(r){return n(c=>!!c,r)}function f(r){return i(null,r)}function d(r){return i(void 0,r)}function o(r){return n(Number.isNaN,r)}function l(r,c){return n(h=>{const m=Array.from(h);return m.includes(r)||m.includes(v(r))},c)}function u(r){return s(1,r)}function s(r=1,c){let h=-1;return n(()=>(h+=1,h>=r),c)}return Array.isArray(v(e))?{toMatch:n,toContains:l,changed:u,changedTimes:s,get not(){return D(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:a,toBeNull:f,toBeNaN:o,toBeUndefined:d,changed:u,changedTimes:s,get not(){return D(e,!t)}}}function Se(e){return D(e)}function de(e,t,n){return p(e,t,{...n,immediate:!0})}const W=Y?window:void 0;function j(e){var t;const n=v(e);return(t=n?.$el)!=null?t:n}function M(...e){const t=[],n=()=>{t.forEach(o=>o()),t.length=0},i=(o,l,u,s)=>(o.addEventListener(l,u,s),()=>o.removeEventListener(l,u,s)),a=S(()=>{const o=A(v(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),f=de(()=>{var o,l;return[(l=(o=a.value)==null?void 0:o.map(u=>j(u)))!=null?l:[W].filter(u=>u!=null),A(v(a.value?e[1]:e[0])),A(oe(a.value?e[2]:e[1])),v(a.value?e[3]:e[2])]},([o,l,u,s])=>{if(n(),!o?.length||!l?.length||!u?.length)return;const r=ue(s)?{...s}:s;t.push(...o.flatMap(c=>l.flatMap(h=>u.map(m=>i(c,h,m,r)))))},{flush:"post"}),d=()=>{f(),n()};return B(n),d}function ve(){const e=y(!1),t=k();return t&&_(()=>{e.value=!0},t),e}function $(e){const t=ve();return S(()=>(t.value,!!e()))}const he=Symbol("vueuse-ssr-width");function me(){const e=V()?ie(he,null):null;return typeof e=="number"?e:void 0}function we(e,t={}){const{window:n=W,ssrWidth:i=me()}=t,a=$(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),f=y(typeof i=="number"),d=y(),o=y(!1),l=u=>{o.value=u.matches};return ne(()=>{if(f.value){f.value=!a.value;const u=v(e).split(",");o.value=u.some(s=>{const r=s.includes("not all"),c=s.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=s.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(c||h);return c&&m&&(m=i>=L(c[1])),h&&m&&(m=i<=L(h[1])),r?!m:m});return}a.value&&(d.value=n.matchMedia(v(e)),o.value=d.value.matches)}),M(d,"change",l,{passive:!0}),S(()=>o.value)}function pe(e,t,n={}){const{window:i=W,...a}=n;let f;const d=$(()=>i&&"ResizeObserver"in i),o=()=>{f&&(f.disconnect(),f=void 0)},l=S(()=>{const r=v(e);return Array.isArray(r)?r.map(c=>j(c)):[j(r)]}),u=p(l,r=>{if(o(),d.value&&i){f=new ResizeObserver(t);for(const c of r)c&&f.observe(c,a)}},{immediate:!0,flush:"post"}),s=()=>{o(),u()};return B(s),{isSupported:d,stop:s}}function E(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function G(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:G(n)}}function ye(e){const t=e||window.event,n=t.target;return G(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const N=new WeakMap;function Te(e,t=!1){const n=y(t);let i=null,a="";p(z(e),o=>{const l=E(v(o));if(l){const u=l;if(N.get(u)||N.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(a=u.style.overflow),u.style.overflow==="hidden")return n.value=!0;if(n.value)return u.style.overflow="hidden"}},{immediate:!0});const f=()=>{const o=E(v(e));!o||n.value||(F&&(i=M(o,"touchmove",l=>{ye(l)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},d=()=>{const o=E(v(e));!o||!n.value||(F&&i?.(),o.style.overflow=a,N.delete(o),n.value=!1)};return B(d),S({get(){return n.value},set(o){o?f():d()}})}function ge(e=W,t){e&&typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame(t):t()}function Oe(e={}){var t,n;const{window:i=W}=e,a=z(e?.element),f=z((t=e?.input)!=null?t:""),d=(n=e?.styleProp)!=null?n:"height",o=y(1),l=y(0);function u(){var s;if(!a.value)return;let r="";a.value.style[d]="1px",o.value=(s=a.value)==null?void 0:s.scrollHeight;const c=v(e?.styleTarget);c?c.style[d]=`${o.value}px`:r=`${o.value}px`,a.value.style[d]=r}return p([f,a],()=>I(u),{immediate:!0}),p(o,()=>{var s;return(s=e?.onResize)==null?void 0:s.call(e)}),pe(a,([{contentRect:s}])=>{l.value!==s.width&&ge(i,()=>{l.value=s.width,u()})}),e?.watch&&p(e.watch,u,{immediate:!0,deep:!0}),{textarea:a,input:f,triggerResize:u}}function Ie(e={}){const{window:t=W,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:f=!0,type:d="inner"}=e,o=y(n),l=y(i),u=()=>{if(t)if(d==="outer")o.value=t.outerWidth,l.value=t.outerHeight;else if(d==="visual"&&t.visualViewport){const{width:r,height:c,scale:h}=t.visualViewport;o.value=Math.round(r*h),l.value=Math.round(c*h)}else f?(o.value=t.innerWidth,l.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight)};u(),fe(u);const s={passive:!0};if(M("resize",u,s),t&&d==="visual"&&t.visualViewport&&M(t.visualViewport,"resize",u,s),a){const r=we("(orientation: portrait)");p(r,()=>u())}return{width:o,height:l}}export{We as a,Se as b,Oe as c,Te as d,z as t,Ie as u};
