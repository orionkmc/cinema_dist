let t=[],s=0;const o=4;let f=r=>{let i=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(l){return e.lc=i.push(l),()=>{for(let u=s+o;u<t.length;)t[u]===l?t.splice(u,o):u+=o;let n=i.indexOf(l);~n&&(i.splice(n,1),--e.lc||e.off())}},notify(l,n){let u=!t.length;for(let a of i)t.push(a,e.value,l,n);if(u){for(s=0;s<t.length;s+=o)t[s](t[s+1],t[s+2],t[s+3]);t.length=0}},off(){},set(l){let n=e.value;n!==l&&(e.value=l,e.notify(n))},subscribe(l){let n=e.listen(l);return l(e.value),n},value:r};return e};const c=f({type:null,show:!1}),h=f({type:null,link:null,show:!1});export{c as a,h as s};
